@page
@model Vista_Subdivision.Pages.homeOwner.dashboardModel
@{
    ViewData["Title"] = "Homeowner Dashboard - Vista";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="~/css/homeownerdashboard.css">
    <link rel="stylesheet" href="~/css/sidebar.css">
    <style>
        .sidebar {
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="dashboard-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <img src="~/Images/logo 1.png" alt="Vista Logo">
                <span>vista.</span>
            </div>

            <nav class="nav-menu">
                <ul>
                    <li class="active">
                        <a href="/homeOwner/dashboard">
                            <i class="fas fa-th-large"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/Announcements">
                            <i class="fas fa-bullhorn"></i>
                            <span>Announcements</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/BillingPayments">
                            <i class="fas fa-file-invoice-dollar"></i>
                            <span>Billing & Payments</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/FacilityReservation">
                            <i class="fas fa-calendar-check"></i>
                            <span>Facility Reservation</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/ServiceRequest">
                            <i class="fas fa-hands-helping"></i>
                            <span>Service Request</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/Documents">
                            <i class="fas fa-file-alt"></i>
                            <span>Documents</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/EventsScheduled">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Events Calendar</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/FeedbackAndSurvey">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Feedback and Survey</span>
                        </a>
                    </li>
                    <li>
                        <a href="/homeOwner/EditProfile">
                            <i class="fas fa-user-circle"></i>
                            <span>Edit Profile</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <!-- Dashboard Content -->
            <div class="content">
                <div class="dashboard-container">
                    <!-- Officer Profile Card -->
                    <h2 class="content-title">Home Owner Dashboard</h2>
                    <div class="officer-profile-card">
                        <div class="profile-content">
                            <div class="profile-avatar">
                                <img src="@Model.LoggedInUser.ProfileImage" alt="@Model.LoggedInUser.FirstName">
                            </div>
                            <div class="profile-info">
                                <h3>@Model.LoggedInUser.FirstName @Model.LoggedInUser.LastName</h3>
                                <p>Homeowner</p>
                                <p>@Model.Properties.CityMunicipality</p>

                                <div class="contact-details">
                                    <div class="contact-item">
                                        <h4>Phone</h4>
                                        <a href="#">
                                            <i class="fas fa-phone"></i>@Model.LoggedInUser.PhoneNumber
                                        </a>
                                    </div>
                                    <div class="contact-item">
                                        <h4>Email</h4>
                                        <a href="#">
                                            <i class="fas fa-envelope"></i>@Model.LoggedInUser.Email
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Dashboard Content Grid -->
                    <div class="dashboard-content">
                        <!-- Contacts Section -->
                        <div class="contacts-section">
                            <div class="section-header">
                                <h3>Contacts</h3>
                                <p>You have <span class="highlight">@Model.ContactCount</span> contacts</p>
                            </div>

                            <div class="search-bar">
                                <input type="text" placeholder="Search here">
                                <i class="fas fa-search"></i>
                            </div>

                            <div class="contacts-list">
                                @foreach (var user in Model.Contacts)
                                {
                                    <div class="contact-item">
                                        <div class="contact-avatar">
                                            <img src="@(string.IsNullOrEmpty(user.ProfileImage) ? "/Images/default-avatar.png" : user.ProfileImage)"
                                                 alt="@($"{user.FirstName} {user.LastName}")">
                                        </div>
                                        <div class="contact-name">
                                            <p class="name">@($"{user.FirstName} {user.LastName}")</p>
                                            <p class="role">@user.Role</p>
                                        </div>
                                        <button class="message-btn">
                                            <i class="fas fa-comment"></i>
                                        </button>
                                    </div>
                                }
                            </div>
                        </div>

                        <!-- Messages Section -->
                        <div class="messages-section">
                            <div class="section-header">
                                <h3>Messages</h3>
                            </div>

                            <div class="search-bar">
                                <input type="text" placeholder="Search here">
                                <i class="fas fa-search"></i>
                            </div>

                            <div class="messages-list">
                                <div class="message-item">
                                    <div class="message-avatar">
                                        <img src="~/Images/tom.png" alt="Tyler Harrison">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-sender">Tyler Harrison</div>
                                        <div class="message-text">Hey, how's it going?</div>
                                    </div>
                                    <div class="message-time">10:30 AM</div>
                                </div>

                                <div class="message-item">
                                    <div class="message-avatar">
                                        <img src="~/Images/ramona.png" alt="Ramona Flowers">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-sender">Ramona Flowers</div>
                                        <div class="message-text">Don't forget the email doc.</div>
                                    </div>
                                    <div class="message-time">11:45 AM</div>
                                </div>

                                <div class="message-item">
                                    <div class="message-avatar">
                                        <img src="~/Images/james.png" alt="James">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-sender">James</div>
                                        <div class="message-text">When should we meet?</div>
                                    </div>
                                    <div class="message-time">12:15 PM</div>
                                </div>

                                <div class="message-item">
                                    <div class="message-avatar">
                                        <img src="~/Images/kim.png" alt="Ken Piao">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-sender">Ken Piao</div>
                                        <div class="message-text">Here's another message bla bla bla bla bla bla bla</div>
                                    </div>
                                    <div class="message-time">1:30 PM</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Right Sidebar -->
        <aside class="right-sidebar">
            <div class="actions">
                <i class="fas fa-bell"></i>
                <i class="fas fa-gear"></i>
                <div class="name">
                    <h5 class="fullname">@Model.LoggedInUser.LastName @Model.LoggedInUser.FirstName</h5>
                    <h6 class="role">Homeowner</h6>
                </div>
                <img src="@Model.LoggedInUser.ProfileImage" alt="Admin Profile" class="profilepic">
            </div>
            <div class="activity-section">
                <h3>Latest Activity</h3>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-avatar">
                            <img src="~/Images/aiden.png" alt="Aiden Pierce">
                        </div>
                        <div class="activity-content">
                            <span class="activity-user">Aiden Pierce</span> recently created a new task for Homeowners
                            <div class="activity-time">2 February 2025, 13:46 PM</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-avatar">
                            <img src="~/Images/kitsuragi.png" alt="Kim Kitsuragi">
                        </div>
                        <div class="activity-content">
                            <span class="activity-user">Kim Kitsuragi</span> posted an update on Basketball Court Renovation
                            <div class="activity-time">2 February 2025, 13:46 PM</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-avatar">
                            <img src="~/Images/jean.png" alt="Jean Vicquemare">
                        </div>
                        <div class="activity-content">
                            <span class="activity-user">Jean Vicquemare</span> created a new community event for Homeowners and Officers
                            <div class="activity-time">2 February 2025, 13:46 PM</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Section -->
            <div class="history-section">
                <h3>History</h3>
                <div class="history-list">
                    <div class="history-item">
                        <div class="history-avatar">
                            <img src="~/css/Images/colorful_heaven.png" alt="Colorful Heaven">
                        </div>
                        <div class="history-content">
                            <span class="history-title">Colorful Heaven</span>
                            <span class="history-subtitle">By Mark Benjamin</span>
                            <span class="history-amount">1.30 ETH</span>
                            <div class="history-time">30s ago</div>
                        </div>
                    </div>

                    <div class="history-item">
                        <div class="history-avatar">
                            <img src="~/css/Images/abstract_colors.png" alt="Abstract Colors">
                        </div>
                        <div class="history-content">
                            <span class="history-title">Abstract Colors</span>
                            <span class="history-subtitle">By Esthera Jackson</span>
                            <span class="history-amount">0.91 ETH</span>
                            <div class="history-time">58s ago</div>
                        </div>
                    </div>

                    <div class="history-item">
                        <div class="history-avatar">
                            <img src="~/css/Images/eth_ai_brain.png" alt="ETH AI Brain">
                        </div>
                        <div class="history-content">
                            <span class="history-title">ETH AI Brain</span>
                            <span class="history-subtitle">By Nick Wilson</span>
                            <span class="history-amount">2.82 ETH</span>
                            <div class="history-time">1m ago</div>
                        </div>
                    </div>

                    <div class="history-item">
                        <div class="history-avatar">
                            <img src="~/css/Images/swipe_circle.png" alt="Swipe Circle">
                        </div>
                        <div class="history-content">
                            <span class="history-title">Swipe Circle</span>
                            <span class="history-subtitle">By Peter Williams</span>
                            <span class="history-amount">2.30 ETH</span>
                            <div class="history-time">1m ago</div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // Simple JavaScript for interactivity
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle active class on sidebar menu items
            const menuItems = document.querySelectorAll('.nav-menu li');

            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    menuItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Contact message buttons
            const messageButtons = document.querySelectorAll('.message-btn');

            messageButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('Opening message window');
                });
            });

            // View all button
            const viewAllButton = document.querySelector('.view-all-btn');

            viewAllButton.addEventListener('click', function() {
                alert('Loading all contacts');
            });
        });
    </script>
</body>
</html>
